/* ========================================================= */
/*               dark-mode.css - VERSION FINALE              */
/* ========================================================= */

/* Styles de base pour le mode sombre */
body.dark-mode {
    background-color: #121212 !important;
    color: #e0e0e0;
}

/* Barre latérale */
body.dark-mode .sidebar {
    background-color: #1e1e1e !important;
    border-right: 1px solid #333;
}
body.dark-mode .sidebar a:hover, 
body.dark-mode .sidebar a.active {
    background-color: #333 !important;
}

/* Conteneurs principaux : Cartes, Modales, Section Auth */
body.dark-mode .card,
body.dark-mode .modal-content,
body.dark-mode #auth-section {
    background-color: #1e1e1e !important;
    border: 1px solid #333;
    color: #e0e0e0;
}
body.dark-mode .card-header,
body.dark-mode .modal-header,
body.dark-mode .modal-footer {
    background-color: #252526 !important;
    border-bottom: 1px solid #333;
}
body.dark-mode .border-bottom {
    border-bottom: 1px solid #333 !important;
}

/* ========================================================= */
/*          SECTION TABLEAUX (NETTOYÉE ET CORRIGÉE)          */
/* ========================================================= */

body.dark-mode .table {
    --bs-table-bg: transparent;
    --bs-table-border-color: #333;
}
/* Règle pour les en-têtes (<th>) */
body.dark-mode .table th {
    color: #ffffff !important;
    font-weight: 600; 
}
/* Règle de base pour TOUTES les cellules de données (<td>) */
body.dark-mode .table td {
    color: #e0e0e0 !important;
}
/* Fond pour les lignes rayées */
body.dark-mode .table-striped > tbody > tr:nth-of-type(odd) > * {
    --bs-table-accent-bg: rgba(255, 255, 255, 0.05);
}
/* Effet de survol */
body.dark-mode .table-hover > tbody > tr:hover > * {
    --bs-table-accent-bg: rgba(255, 255, 255, 0.075);
    color: #ffffff !important; 
}

/* ========================================================= */
/*       CORRECTIONS P&L ET TEXTES SPÉCIFIQUES (TRÈS IMPORTANT)      */
/* ========================================================= */

/* Règle pour les P&L positifs (vert) */
body.dark-mode .table td[style*="green"],
body.dark-mode div[style*="green"] {
    color: #2ecc71 !important;
    font-weight: bold;
}
/* Règle pour les P&L négatifs (rouge) */
body.dark-mode .table td[style*="red"],
body.dark-mode div[style*="red"] {
    color: #ff6b6b !important;
    font-weight: bold;
}
/* Règle pour les textes secondaires (gris clair) */
body.dark-mode .text-muted,
body.dark-mode .form-text,
body.dark-mode small {
    color: #a0a0a0 !important;
}

/* ========================================================= */
/*                     FORMULAIRES ET AUTRES                 */
/* ========================================================= */

/* Formulaires */
body.dark-mode .form-control,
body.dark-mode .form-select {
    background-color: #2a2a2a;
    color: #e0e0e0;
    border: 1px solid #444;
}
body.dark-mode .form-control:focus,
body.dark-mode .form-select:focus {
    background-color: #2a2a2a;
    color: #e0e0e0;
    border-color: #0d6efd;
    box-shadow: none;
}

/* Boutons */
body.dark-mode .btn-close {
    filter: invert(1) grayscale(100%) brightness(200%);
}
body.dark-mode .btn-outline-secondary:disabled {
    color: #6c757d;
    border-color: #333;
}
body.dark-mode .badge {
    color: #ffffff !important;
}

/* Textes et Titres */
body.dark-mode .card-header,
body.dark-mode h1,
body.dark-mode h2,
body.dark-mode h4,
body.dark-mode h5,
body.dark-mode h6,
body.dark-mode strong {
    color: #fff;
}